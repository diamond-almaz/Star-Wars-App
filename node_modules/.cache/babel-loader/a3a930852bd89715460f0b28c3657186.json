{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/almazsaripov/Documents/Projects/Star-Wars-App/src/components/Statistics/ResouceDetails/resouceDetails.js\";\nimport React from 'react';\nimport * as axios from \"axios\";\nimport { swAPI } from \"../../../api/api\";\n\nclass ResouceDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      details: {}\n    };\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount из statisticsDetails');\n    swAPI.getResourceDetails(this.props.state.actualResourceUrl).then(resp => {\n      this.setState({\n        details: this.props.state.actualResourceName == 'films' ? resp.data.results.map(i => i.title) : resp.data.results.map(i => i.name)\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps != this.props) {\n      swAPI.getResourceDetails(this.props.state.actualResourceUrl).then(resp => {\n        this.setState({\n          details: this.props.state.actualResourceName == 'films' ? resp.data.results.map(i => i.title) : resp.data.results.map(i => i.name)\n        });\n      });\n    }\n  }\n\n  render() {\n    let newArr;\n\n    if (Object.keys(this.state.details).length !== 0) {\n      newArr = this.state.details.map(i => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: i\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 24\n        }, this);\n      });\n    }\n\n    console.log('Прорисовка statisticsDetails');\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: this.props.state.actualResourceName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: newArr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default ResouceDetails;","map":{"version":3,"sources":["/Users/almazsaripov/Documents/Projects/Star-Wars-App/src/components/Statistics/ResouceDetails/resouceDetails.js"],"names":["React","axios","swAPI","ResouceDetails","Component","state","details","componentDidMount","console","log","getResourceDetails","props","actualResourceUrl","then","resp","setState","actualResourceName","data","results","map","i","title","name","componentDidUpdate","prevProps","prevState","snapshot","render","newArr","Object","keys","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAAQC,KAAR,QAAoB,kBAApB;;AAGA,MAAMC,cAAN,SAA6BH,KAAK,CAACI,SAAnC,CAA6C;AAAA;AAAA;AAAA,SACzCC,KADyC,GACnC;AACFC,MAAAA,OAAO,EAAE;AADP,KADmC;AAAA;;AAOzCC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AACAP,IAAAA,KAAK,CAACQ,kBAAN,CAAyB,KAAKC,KAAL,CAAWN,KAAX,CAAiBO,iBAA1C,EACKC,IADL,CACUC,IAAI,IAAE;AACZ,WAAKC,QAAL,CAAc;AACVT,QAAAA,OAAO,EAAE,KAAKK,KAAL,CAAWN,KAAX,CAAiBW,kBAAjB,IAAqC,OAArC,GAA6CF,IAAI,CAACG,IAAL,CAAUC,OAAV,CAAkBC,GAAlB,CAAsBC,CAAC,IAAEA,CAAC,CAACC,KAA3B,CAA7C,GAA+EP,IAAI,CAACG,IAAL,CAAUC,OAAV,CAAkBC,GAAlB,CAAsBC,CAAC,IAAEA,CAAC,CAACE,IAA3B;AAD9E,OAAd;AAGH,KALD;AAMH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,QAAvB,EAAiC;AAC/C,QAAIF,SAAS,IAAE,KAAKb,KAApB,EACA;AACIT,MAAAA,KAAK,CAACQ,kBAAN,CAAyB,KAAKC,KAAL,CAAWN,KAAX,CAAiBO,iBAA1C,EAA6DC,IAA7D,CAAkEC,IAAI,IAAE;AACpE,aAAKC,QAAL,CAAc;AACVT,UAAAA,OAAO,EAAE,KAAKK,KAAL,CAAWN,KAAX,CAAiBW,kBAAjB,IAAqC,OAArC,GAA6CF,IAAI,CAACG,IAAL,CAAUC,OAAV,CAAkBC,GAAlB,CAAsBC,CAAC,IAAEA,CAAC,CAACC,KAA3B,CAA7C,GAA+EP,IAAI,CAACG,IAAL,CAAUC,OAAV,CAAkBC,GAAlB,CAAsBC,CAAC,IAAEA,CAAC,CAACE,IAA3B;AAD9E,SAAd;AAGH,OAJD;AAKH;AACJ;;AAGDK,EAAAA,MAAM,GAAG;AACL,QAAIC,MAAJ;;AACA,QAAIC,MAAM,CAACC,IAAP,CAAY,KAAKzB,KAAL,CAAWC,OAAvB,EAAgCyB,MAAhC,KAA2C,CAA/C,EAAkD;AAC9CH,MAAAA,MAAM,GAAC,KAAKvB,KAAL,CAAWC,OAAX,CAAmBa,GAAnB,CAAuBC,CAAC,IAAE;AAC7B,4BAAO;AAAA,oBAAMA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAP;AACH,OAFM,CAAP;AAGH;;AAEDZ,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AAEA,wBAAQ;AAAA,8BACJ;AAAA,kBAAK,KAAKE,KAAL,CAAWN,KAAX,CAAiBW;AAAtB;AAAA;AAAA;AAAA;AAAA,cADI,eAEA;AAAA,kBAAMY;AAAN;AAAA;AAAA;AAAA;AAAA,cAFA;AAAA,oBAAR;AAKH;;AA5CwC;;AA+C7C,eAAezB,cAAf","sourcesContent":["import React from 'react'\nimport * as axios from \"axios\";\nimport {swAPI} from \"../../../api/api\";\n\n\nclass ResouceDetails extends React.Component {\n    state={\n        details: {}\n\n\n    }\n\n    componentDidMount() {\n        console.log('componentDidMount из statisticsDetails')\n        swAPI.getResourceDetails(this.props.state.actualResourceUrl)\n            .then(resp=>{\n            this.setState({\n                details: this.props.state.actualResourceName=='films'?resp.data.results.map(i=>i.title):resp.data.results.map(i=>i.name)\n            })\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps!=this.props)\n        {\n            swAPI.getResourceDetails(this.props.state.actualResourceUrl).then(resp=>{\n                this.setState({\n                    details: this.props.state.actualResourceName=='films'?resp.data.results.map(i=>i.title):resp.data.results.map(i=>i.name)\n                })\n            })\n        }\n    }\n\n\n    render() {\n        let newArr;\n        if (Object.keys(this.state.details).length !== 0) {\n            newArr=this.state.details.map(i=>{\n                return <div>{i}</div>\n            })\n        }\n\n        console.log('Прорисовка statisticsDetails')\n\n        return (<>\n            <h3>{this.props.state.actualResourceName}</h3>\n                <div>{newArr}</div>\n            </>\n        )\n    }\n}\n\nexport default ResouceDetails"]},"metadata":{},"sourceType":"module"}